<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey</title>
    <style>
        /* 여기에 CSS 스타일링 작성 */
    </style>
</head>
<body>
    <h1>Background Survey</h1>
    <form id="survey-form" action="/survey" method="post">
        <h2>Part {{ part[-1] }} of 4</h2>
        {% for question in questions %}
            <input type="radio" name="option" value="{{ question }}"> {{ question }}<br>
        {% endfor %}
        <input type="hidden" name="part" value="{{ part }}">
        <input type="hidden" name="prev_part" value="{{ prev_part }}">
        <button type="button" id="back-btn" {% if not prev_part %} disabled {% endif %}>Back</button>
        <button type="submit" id="next-btn" disabled>Next</button>
    </form>

    <script>
        window.onload = function() {
            const radioButtons = document.querySelectorAll('input[type=radio]');
            const nextButton = document.getElementById('next-btn');
            const backButton = document.getElementById('back-btn');

            // 뒤로 가기 버튼 클릭 이벤트 처리
            backButton.addEventListener('click', function() {
                const form = document.getElementById('survey-form');
                form.setAttribute('action', '/');
                form.submit();
            });

            radioButtons.forEach(function(button) {
                button.addEventListener('change', function() {
                    nextButton.disabled = false;
                });
            });
        }
    </script>
</body>
</html>